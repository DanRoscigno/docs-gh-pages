"use strict";(self.webpackChunkclickhouse=self.webpackChunkclickhouse||[]).push([[35371],{3905:function(e,t,a){a.d(t,{Zo:function(){return c},kt:function(){return m}});var n=a(67294);function r(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function o(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function s(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?o(Object(a),!0).forEach((function(t){r(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):o(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function i(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},o=Object.keys(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var l=n.createContext({}),p=function(e){var t=n.useContext(l),a=t;return e&&(a="function"==typeof e?e(t):s(s({},t),e)),a},c=function(e){var t=p(e.components);return n.createElement(l.Provider,{value:t},e.children)},u={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},d=n.forwardRef((function(e,t){var a=e.components,r=e.mdxType,o=e.originalType,l=e.parentName,c=i(e,["components","mdxType","originalType","parentName"]),d=p(a),m=r,h=d["".concat(l,".").concat(m)]||d[m]||u[m]||o;return a?n.createElement(h,s(s({ref:t},c),{},{components:a})):n.createElement(h,s({ref:t},c))}));function m(e,t){var a=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var o=a.length,s=new Array(o);s[0]=d;var i={};for(var l in t)hasOwnProperty.call(t,l)&&(i[l]=t[l]);i.originalType=e,i.mdxType="string"==typeof e?e:r,s[1]=i;for(var p=2;p<o;p++)s[p]=a[p];return n.createElement.apply(null,s)}return n.createElement.apply(null,a)}d.displayName="MDXCreateElement"},31245:function(e,t,a){a.r(t),a.d(t,{assets:function(){return c},contentTitle:function(){return l},default:function(){return m},frontMatter:function(){return i},metadata:function(){return p},toc:function(){return u}});var n=a(87462),r=a(63366),o=(a(67294),a(3905)),s=["components"],i={sidebar_label:"Superset",sidebar_position:198,keywords:["clickhouse","superset","connect","integrate","ui"],description:"Apache Superset is an open-source data exploration and visualization platform."},l="Connect Superset to ClickHouse",p={unversionedId:"en/connect-a-ui/superset-and-clickhouse",id:"en/connect-a-ui/superset-and-clickhouse",title:"Connect Superset to ClickHouse",description:"Apache Superset is an open-source data exploration and visualization platform.",source:"@site/docs/en/connect-a-ui/superset-and-clickhouse.md",sourceDirName:"en/connect-a-ui",slug:"/en/connect-a-ui/superset-and-clickhouse",permalink:"/docs-gh-pages/up/en/connect-a-ui/superset-and-clickhouse",draft:!1,editUrl:"https://github.com/ClickHouse/clickhouse-docs/blob/main/docs/en/connect-a-ui/superset-and-clickhouse.md",tags:[],version:"current",sidebarPosition:198,frontMatter:{sidebar_label:"Superset",sidebar_position:198,keywords:["clickhouse","superset","connect","integrate","ui"],description:"Apache Superset is an open-source data exploration and visualization platform."},sidebar:"english",previous:{title:"Metabase",permalink:"/docs-gh-pages/up/en/connect-a-ui/metabase-and-clickhouse"},next:{title:"Tableau",permalink:"/docs-gh-pages/up/en/connect-a-ui/tableau-and-clickhouse"}},c={},u=[{value:"1. Install the Driver",id:"1-install-the-driver",level:2},{value:"2. Connect Superset to ClickHouse",id:"2-connect-superset-to-clickhouse",level:2},{value:"3. Add a Dataset",id:"3-add-a-dataset",level:2},{value:"4.  Creating charts and a dashboard in Superset",id:"4--creating-charts-and-a-dashboard-in-superset",level:2}],d={toc:u};function m(e){var t=e.components,i=(0,r.Z)(e,s);return(0,o.kt)("wrapper",(0,n.Z)({},d,i,{components:t,mdxType:"MDXLayout"}),(0,o.kt)("h1",{id:"connect-superset-to-clickhouse"},"Connect Superset to ClickHouse"),(0,o.kt)("a",{href:"https://superset.apache.org/",target:"_blank"},"Apache Superset")," is an open-source data exploration and visualization platform written in Python. Superset connects to ClickHouse using a Python driver provided by ClickHouse. Let's see how it works...",(0,o.kt)("h2",{id:"1-install-the-driver"},"1. Install the Driver"),(0,o.kt)("ol",null,(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("p",{parentName:"li"},"Superset uses the ",(0,o.kt)("inlineCode",{parentName:"p"},"clickhouse-connect")," driver to connect to ClickHouse. The details of ",(0,o.kt)("inlineCode",{parentName:"p"},"clickhouse-connect")," are at ",(0,o.kt)("a",{href:"https://pypi.org/project/clickhouse-connect/",target:"_blank"},(0,o.kt)("a",{parentName:"p",href:"https://pypi.org/project/clickhouse-connect/"},"https://pypi.org/project/clickhouse-connect/"))," and it can be installed with the following command:"),(0,o.kt)("pre",{parentName:"li"},(0,o.kt)("code",{parentName:"pre",className:"language-console"},"pip install clickhouse-connect \n"))),(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("p",{parentName:"li"},"Start (or restart) Superset."))),(0,o.kt)("h2",{id:"2-connect-superset-to-clickhouse"},"2. Connect Superset to ClickHouse"),(0,o.kt)("ol",null,(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("p",{parentName:"li"},"Within Superset, select ",(0,o.kt)("strong",{parentName:"p"},"Data")," from the top menu and then ",(0,o.kt)("strong",{parentName:"p"},"Databases")," from the drop-down menu. Add a new database by clicking the ",(0,o.kt)("strong",{parentName:"p"},"+ Database")," button:"),(0,o.kt)("img",{src:a(34644).Z,class:"image",alt:"Add a new database"})),(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("p",{parentName:"li"},"In the first step, select ",(0,o.kt)("strong",{parentName:"p"},"ClickHouse Connect")," as the type of database:"),(0,o.kt)("img",{src:a(58079).Z,class:"image",alt:"Select ClickHouse"})),(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("p",{parentName:"li"},"In the second step, enter:"))),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("p",{parentName:"li"},"The ",(0,o.kt)("strong",{parentName:"p"},"HOST")," and ",(0,o.kt)("strong",{parentName:"p"},"PORT"),": typical ports are 8443 when using TLS, or 8123 when not using TLS, but these are configurable by your ClickHouse administrator. Port 443 is used in the example, as this is the port that ClickHouse Playground (a publicly available server hosting several example datasets) is listening on.")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("p",{parentName:"li"},"The ",(0,o.kt)("strong",{parentName:"p"},"DATABASE NAME"),": out of the box there is a database named ",(0,o.kt)("inlineCode",{parentName:"p"},"default"),", use the name of any existing database.")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("p",{parentName:"li"},"The ",(0,o.kt)("strong",{parentName:"p"},"USERNAME")," and ",(0,o.kt)("strong",{parentName:"p"},"PASSWORD"),": out of the box the username is ",(0,o.kt)("inlineCode",{parentName:"p"},"default"),". Your ClickHouse administrator will provide the password to use.  If you are connecting to the ClickHouse Playground, the username is ",(0,o.kt)("inlineCode",{parentName:"p"},"play")," and the password is left blank.")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("p",{parentName:"li"},"The ",(0,o.kt)("strong",{parentName:"p"},"DISPLAY NAME"),": this can be any name you prefer. If you will be connecting to multiple ClickHouse databases then make the name more descriptive."),(0,o.kt)("img",{src:a(91530).Z,class:"image",alt:"Test the connection"}))),(0,o.kt)("ol",{start:4},(0,o.kt)("li",{parentName:"ol"},"Click the ",(0,o.kt)("strong",{parentName:"li"},"CONNECT")," and then ",(0,o.kt)("strong",{parentName:"li"},"FINISH")," buttons to complete the setup wizard, and you should see your database in the list of databases.")),(0,o.kt)("h2",{id:"3-add-a-dataset"},"3. Add a Dataset"),(0,o.kt)("ol",null,(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("p",{parentName:"li"},"To interact with your ClickHouse data with Superset, you need to define a ",(0,o.kt)("strong",{parentName:"p"},(0,o.kt)("em",{parentName:"strong"},"dataset")),". From the top menu in Superset, select ",(0,o.kt)("strong",{parentName:"p"},"Data"),", then ",(0,o.kt)("strong",{parentName:"p"},"Datasets")," from the drop-down menu. ")),(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("p",{parentName:"li"},"Click the button for adding a dataset. Select your new database as the datasource and you should see the tables defined in your database. For example, the PlayGround ",(0,o.kt)("strong",{parentName:"p"},"default")," database has a table named ",(0,o.kt)("strong",{parentName:"p"},"covid"),":"),(0,o.kt)("img",{src:a(57618).Z,class:"image",alt:"New dataset"}))),(0,o.kt)("ol",{start:3},(0,o.kt)("li",{parentName:"ol"},"Click the ",(0,o.kt)("strong",{parentName:"li"},"ADD")," button at the bottom of the dialog window and your table appears in the list of datasets. You are ready to build a dashboard and analyze your ClickHouse data!")),(0,o.kt)("h2",{id:"4--creating-charts-and-a-dashboard-in-superset"},"4.  Creating charts and a dashboard in Superset"),(0,o.kt)("p",null,"If you are familiar with Superset, then you will feel right at home with this next section. If you are new to Superset, well...it's like a lot of the other cool visualization tools out there in the world - it doesn't take long to get started, but the details and nuances get learned over time as you use the tool. "),(0,o.kt)("ol",null,(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("p",{parentName:"li"},"You start with a dashboard. From the top menu in Superset, select ",(0,o.kt)("strong",{parentName:"p"},"Dashboards"),". Click the button in the upper-right to add a new dashboard. The following dashboard is named ",(0,o.kt)("strong",{parentName:"p"},"Covid-19 Dashboard"),":"),(0,o.kt)("img",{src:a(16363).Z,class:"image",alt:"New dashboard"})),(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("p",{parentName:"li"},"To create a new chart, select ",(0,o.kt)("strong",{parentName:"p"},"Charts")," from the top menu and click the button to add a new chart. You will be shown a lot of options. The following example shows a ",(0,o.kt)("strong",{parentName:"p"},"Big Number")," chart using the ",(0,o.kt)("strong",{parentName:"p"},"covid")," dataset from the ",(0,o.kt)("strong",{parentName:"p"},"CHOOSE A DATASET")," drop-down:"),(0,o.kt)("img",{src:a(37770).Z,class:"image",alt:"New chart"})),(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("p",{parentName:"li"},"You need to add a metric to a ",(0,o.kt)("strong",{parentName:"p"},"Big Number"),". The column named ",(0,o.kt)("strong",{parentName:"p"},"DATA")," and the section named ",(0,o.kt)("strong",{parentName:"p"},"Query")," with a ",(0,o.kt)("strong",{parentName:"p"},"METRIC")," field show a red warning because they are not defined yet. To add a metric, click ",(0,o.kt)("strong",{parentName:"p"},"Add metric")," and a small dialog window appears:"),(0,o.kt)("img",{src:a(56861).Z,class:"image",style:{width:"70%"},alt:"Add a metric"})),(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("p",{parentName:"li"},"The following example uses the ",(0,o.kt)("strong",{parentName:"p"},"SUM")," metric, found on the the ",(0,o.kt)("strong",{parentName:"p"},"SIMPLE")," tab. It sums the values of the ",(0,o.kt)("strong",{parentName:"p"},"new_confirmed")," column:"),(0,o.kt)("img",{src:a(79482).Z,class:"image",style:{width:"70%"},alt:"The SUM metric"})),(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("p",{parentName:"li"},"To view the actual number, click the ",(0,o.kt)("strong",{parentName:"p"},"RUN QUERY")," button:"),(0,o.kt)("img",{src:a(85617).Z,class:"image",style:{width:"70%"},alt:"Run the query"})),(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("p",{parentName:"li"},"Click the ",(0,o.kt)("strong",{parentName:"p"},"SAVE")," button to save the chart, then select ",(0,o.kt)("strong",{parentName:"p"},"Covid-19 Dashboard")," under the ",(0,o.kt)("strong",{parentName:"p"},"ADD TO DASHBOARD")," drop-down, then ",(0,o.kt)("strong",{parentName:"p"},"SAVE & GO TO DASHBOARD")," saves the chart and adds it to the dashboard:"),(0,o.kt)("img",{src:a(54222).Z,class:"image",style:{width:"70%"},alt:"Add Chart to Dashboard"})),(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("p",{parentName:"li"},"That's it. Building dashboards in Superset based on data in ClickHouse opens up a whole world of blazing fast data analytics!"),(0,o.kt)("img",{src:a(97740).Z,class:"image",alt:"New Dashboard"}))))}m.isMDXComponent=!0},34644:function(e,t,a){t.Z=a.p+"assets/images/superset_01-b375dc667020baf9e8afc89927fd75ca.png"},58079:function(e,t,a){t.Z=a.p+"assets/images/superset_02-4c32bae678c1c8cbfa2e6d69ec9e693b.png"},91530:function(e,t,a){t.Z=a.p+"assets/images/superset_03-b840c82fa6c3d93393e853ca2d676082.png"},57618:function(e,t,a){t.Z=a.p+"assets/images/superset_04-7a9dd3dafba60a1347aecd94d727b477.png"},16363:function(e,t,a){t.Z=a.p+"assets/images/superset_05-818ad2586cc0cbff6d5b290b5ead282f.png"},37770:function(e,t,a){t.Z=a.p+"assets/images/superset_06-b012a98ac1549c27b07fba8893cbbba3.png"},56861:function(e,t,a){t.Z=a.p+"assets/images/superset_07-02e8a571d9119d1842601a2f08a380ab.png"},79482:function(e,t,a){t.Z=a.p+"assets/images/superset_08-62a30ed5a05f713b292c860a6e74c88c.png"},85617:function(e,t,a){t.Z=a.p+"assets/images/superset_09-5ddcb82816a6a58b96816c75c36d3ad1.png"},54222:function(e,t,a){t.Z=a.p+"assets/images/superset_10-54234d2012766195b284579584520fad.png"},97740:function(e,t,a){t.Z=a.p+"assets/images/superset_11-e45b3571f8b7212dd86b28cfceba5965.png"}}]);